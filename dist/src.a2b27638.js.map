{"version":3,"sources":["src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Vue","component","template","props","data","isPlaying","video","paused","volume","playbackRate","progress","hoveredTime","isRecording","videoChunks","videoStream","mediaRecorder","recordingInterval","recordingTime","browserCanRecord","mounted","updateProgress","videoMode","MediaRecorder","isTypeSupported","initializeVideoStream","methods","currentTime","duration","updateTime","event","x","offsetX","width","$refs","progressBar","clientWidth","percentHovered","updateHoveredTime","progressTime","style","left","togglePlayPause","play","pause","seekVideo","updatePlayback","target","value","toggleVolume","muted","toggleFullscreen","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","panorama","captureStream","streamOptions","mimeType","addEventListener","e","push","videoBlob","Blob","clippedVideo","URL","createObjectURL","window","confirm","downloadVideoFile","uuidv4","toggleRecording","startVideoRecording","stopVideoRecording","start","setInterval","stop","clearInterval","filename","mime","bom","blobData","blob","type","navigator","msSaveBlob","blobURL","webkitURL","tempLink","document","createElement","display","href","setAttribute","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","watch","filters","prettyTime","hrs","mins","secs","ret","isLoading","canvas","videoEl","xBoundary","yBoundary","currentX","currentY","zoom","computed","currentVideo","panoramaVideoUrl","hdVideoUrl","isPanoramaMode","initializeVideoCanvas","sizeCanvas","resizeCanvas","fabric","Canvas","selection","Image","top","objectCaching","hasControls","hasBorders","centeredScaling","scaleToHeight","clientHeight","add","centerObject","render","renderAll","util","requestAnimFrame","on","handleCanvasBoundaries","setZoom","panoramaHelpText","classList","obj","canvasWidth","canvasHeight","canvasEdgeLeft","canvasEdgeTop","setCoords","getScaledWidth","getScaledHeight","scaledVideo","getBoundingRect","getWidth","getHeight","toggleVideoMode","$nextTick","panoramaWrapper","height","setWidth","setHeight","calcOffset","updateDuration","deltaY","Number","Math","min","max","toFixed","canvasCenter","getCenter","zoomToPoint","y","preventDefault","stopPropagation","fire","$forceUpdate","el","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","i","length","module"],"mappings":"ACAA,ACAA,IDAIoL,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADDJpL,GAAG,CCCCoL,ADDAnL,SCCS,ADDb,CAAc,ECCEqL,YAAY,EAAxB,KDDJ,EAAqC;ACElC,ACADc,AFDAlM,EECAkM,AFDAlM,OECO,CAACoM,AFDA,MECR,GAAiB,YAAY;AAC3BH,AFHiC,CAArC,GEGIA,IAAI,CAACI,MAAL;ADCF,ACAC,AFcHvM,GEhBE,AFgBC,CAACC,KCdKmL,IDcT,CAAc,ICdZ,mBDcF,EAAuC;ACbtC,ADcCjL,EAAAA,KAAK,EAAE,CAAC,OAAD,EAAU,aAAV,EAAyB,UAAzB,EAAqC,WAArC,EAAkD,UAAlD,CAD8B;AEbrCiM,AFeAlM,EEfAkM,AFeAlM,OEfO,CAACyF,AFeA,IEfR,GAAewG,IAAI,CAACxG,IAAL,CAAU6G,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C,yiFFaqC;ACXvC,ACDEP,AF6DA/L,EE7DA+L,AF6DA/L,IE7DI,AFYiC,CEZhCuM,EDCErB,QCDP,CAAgBsB,GDClB,GAAwB,AD4Df,ME7DP,CAA6BR,OAA7B,EAAsCD,IAAI,CAACU,WAA3C;ADEA,ACDD,AF6DG,WAAO;AC3DT,AD4DIxM,MC5DA,AD4DAA,SAAS,EAAE,CAAC,KAAKC,KAAL,CAAWC,MADlB;AC1DP,ACDJ,AF6DMC,IE7DFsM,EF6DEtM,IC5DI,ED4DE,EC5DE+K,ACDA,AF6DA,CAFH,EE3DM,EDCP,EAAN,ACDJ;ADEG,AD4DG9K,GC9DJ,CAEE,ED4DEA,KC5DK+K,GAAP,EAAY,ED4DE,EAAE,GAHT;ACxDP,ACFJ,AF8DM9K,MAAAA,EC5DE+K,CCFCsB,KF8DK,CC5DC,CD4DC,CAJL,CCxDO,ACFlB,CDEmB,ECFE,GDEGvB,GAAG,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,+DAAvB,CAAd;ACDF,AF8DIhL,ME9DAmM,AF8DAnM,UE9DJ,CF8De,CE9DC,CF8DC,CALR;ACvDP,ACDA,AF8DEC,MAAAA,EC7DE6K,OAAJ,EAAa,AD6DA,EAAE,KANR;ACtDL,ACDH,AF8DG5K,MAAAA,OC7DO+K,ID6DI,EAAE,EAPR,ECtDY,CAACH,OAAO,CAAC,CAAD,CAAR,CAAjB;AACD,AD6DC3K,MAAAA,WAAW,EAAE,IARR;ACpDR,ACDDgM,AF8DI/L,EE9DJ+L,IF8DI/L,ME9DM,GAAGkF,IF8DI,EAAE,IE9DI,AFqDd,CErDe,YAAY;AAClC,AF8DEjF,MAAAA,EE9DEgM,KAAK,GAAGxH,OF8DO,CE9DC,CAACyH,AF8DA,IAVd,YEpDK,CAA0B,wBAA1B,CAAZ;ADEF,AD6DIhM,MAAAA,GC7DG,GAAP,OD6DiB,EAAE,CAXV;ACjDV,ACFG,AF+DEC,MAAAA,GE/DG,IAAIgM,CAAC,GAAG,CAAb,EAAgBA,CAAC,CF+DC,EE/DEF,AF+DA,KE/DK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AFkDK,KAAP,KElDMlB,MAAM,CAACJ,UAAP,CAAkBoB,KAAK,CAACE,CAAD,CAAL,CAASvH,IAA3B,MAAqCqG,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AF+DL,GAhEoC,KEC/BA,CDECN,SCFS,CDElB,ACFmBoB,CDECnB,GAApB,CCFwB,CDEC,ACFAqB,CAAD,CAAN,CAAV;ADGN,ACFK,AF+DL/L,EAAAA,OC7DO,ADJ8B,CCI7B,KAAK0K,GAAN,EAAWC,OAAX,CAAmB,ED6Df,8EC7DJ,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AF+DD,SAAK1K,cAAL;;AC3DJ2K,ACFIe,AF8DA,IE9DAA,GDEG,CAACxB,AD4DA,KAAKjK,CE9DC,GAAG,GDEjB,CCFI,CF8DI,CC5DegK,ID4DI,UAAvB,EAAmC,EC5DvC;AACAU,ACFG,AF8DG,GEvEmB,EASpB,EDEE,ACXkB,CDWjBH,ACXN,EFuEQtK,QC5DV,GAAqBsK,ED4DE,CAACrK,OC5DxB,QD4DU,CAA8B,YAA9B,CAAJ,EAAiD;AE7DtD,AF8DO,aAAKL,gBAAL,GAAwB,IAAxB;AACA,aAAKM,qBAAL;AE7DR4L,AF8DO,ME9DD,CAACrB,OAAP,GAAiBgB,SAAjB;AF+DK;AACF,GAzEoC;AA0ErCtL,EAAAA,OAAO,EAAE;AACPL,IAAAA,cADO,4BACW;AAChB,WAAKV,QAAL,GAAiB,KAAKgB,WAAL,GAAmB,KAAKC,QAAzB,GAAqC,GAArD;AACD,KAHM;AAIPC,IAAAA,UAJO,sBAIIC,KAJJ,EAIW;AAChB,UAAMC,CAAC,GAAGD,KAAK,CAACE,OAAhB;AACA,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,WAArC;AACA,UAAMC,cAAc,GAAGN,CAAC,GAAGE,KAA3B;AACA,WAAK1B,KAAL,CAAWoB,WAAX,GAAyB,KAAKC,QAAL,GAAgBS,cAAzC;AACD,KATM;AAUPC,IAAAA,iBAVO,6BAUWR,KAVX,EAUkB;AACvB,UAAMC,CAAC,GAAGD,KAAK,CAACE,OAAhB;AACA,UAAMC,KAAK,GAAG,KAAKC,KAAL,CAAWC,WAAX,CAAuBC,WAArC;AACA,UAAMC,cAAc,GAAGN,CAAC,GAAGE,KAA3B;AACA,WAAKrB,WAAL,GAAmB,KAAKgB,QAAL,GAAgBS,cAAnC;AACA,WAAKH,KAAL,CAAWK,YAAX,CAAwBC,KAAxB,CAA8BC,IAA9B,GACE,UACAJ,cAAc,GAAG,GADjB,GAEA,MAFA,GAGA,KAAKH,KAAL,CAAWK,YAAX,CAAwBH,WAAxB,GAAsC,CAHtC,GAIA,KALF;AAMD,KArBM;AAsBPM,IAAAA,eAtBO,6BAsBW;AAChB,UAAI,KAAKnC,KAAL,CAAWC,MAAf,EAAuB;AACrB,aAAKD,KAAL,CAAWoC,IAAX;AACA,aAAKrC,SAAL,GAAiB,IAAjB;AACD,OAHD,MAGO;AACL,aAAKC,KAAL,CAAWqC,KAAX;AACA,aAAKtC,SAAL,GAAiB,KAAjB;AACD;AACF,KA9BM;AA+BPuC,IAAAA,SA/BO,qBA+BGjB,QA/BH,EA+Ba;AAClB,WAAKrB,KAAL,CAAWoB,WAAX,IAA0BC,QAA1B;AACD,KAjCM;AAkCPkB,IAAAA,cAlCO,0BAkCQhB,KAlCR,EAkCe;AACpB,WAAKvB,KAAL,CAAWG,YAAX,GAA0BoB,KAAK,CAACiB,MAAN,CAAaC,KAAvC;AACD,KApCM;AAqCPC,IAAAA,YArCO,0BAqCQ;AACb,WAAKxC,MAAL,GAAc,KAAKA,MAAL,KAAgB,CAAhB,GAAoB,CAApB,GAAwB,CAAtC;;AACA,UAAI,KAAKA,MAAL,KAAgB,CAApB,EAAuB;AACrB,aAAKF,KAAL,CAAW2C,KAAX,GAAmB,IAAnB;AACA,aAAK3C,KAAL,CAAWE,MAAX,GAAoB,CAApB;AACD,OAHD,MAGO;AACL,aAAKF,KAAL,CAAW2C,KAAX,GAAmB,KAAnB;AACA,aAAK3C,KAAL,CAAWE,MAAX,GAAoB,CAApB;AACD;AACF,KA9CM;AA+CP0C,IAAAA,gBA/CO,8BA+CY;AACjB,UAAI,KAAK5C,KAAL,CAAW6C,iBAAf,EAAkC;AAChC,aAAK7C,KAAL,CAAW6C,iBAAX;AACD,OAFD,MAEO,IAAI,KAAK7C,KAAL,CAAW8C,uBAAf,EAAwC;AAC7C,aAAK9C,KAAL,CAAW8C,uBAAX;AACD,OAFM,MAEA,IAAI,KAAK9C,KAAL,CAAW+C,mBAAf,EAAoC;AACzC,aAAK/C,KAAL,CAAW+C,mBAAX;AACD;AACF,KAvDM;AAwDP7B,IAAAA,qBAxDO,mCAwDkB;AAAA;;AACvB,WAAKV,WAAL,GAAmB,KAAKwC,QAAL,CAAcC,aAAd,EAAnB;AACA,UAAIC,aAAJ;;AACA,UAAIlC,aAAa,CAACC,eAAd,CAA8B,uBAA9B,CAAJ,EAA4D;AAC1DiC,QAAAA,aAAa,GAAG;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAhB;AACD,OAFD,MAEO,IAAInC,aAAa,CAACC,eAAd,CAA8B,uBAA9B,CAAJ,EAA4D;AACjEiC,QAAAA,aAAa,GAAG;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAhB;AACD,OAFM,MAEA;AACLD,QAAAA,aAAa,GAAG;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAAhB;AACD;;AACD,WAAK1C,aAAL,GAAqB,IAAIO,aAAJ,CAAkB,KAAKR,WAAvB,EAAoC0C,aAApC,CAArB;AAEA,WAAKzC,aAAL,CAAmB2C,gBAAnB,CAAoC,eAApC,EAAqD,UAACC,CAAD,EAAO;AAC1D,QAAA,KAAI,CAAC9C,WAAL,CAAiB+C,IAAjB,CAAsBD,CAAC,CAACvD,IAAxB;AACD,OAFD;AAIA,WAAKW,aAAL,CAAmB2C,gBAAnB,CAAoC,MAApC,EAA4C,UAACC,CAAD,EAAO;AACjD,YAAME,SAAS,GAAG,IAAIC,IAAJ,CAAS,KAAI,CAACjD,WAAd,EAA2B;AAAE,kBAAQ;AAAV,SAA3B,CAAlB;AACA,QAAA,KAAI,CAACA,WAAL,GAAmB,EAAnB;AACA,QAAA,KAAI,CAACkD,YAAL,GAAoBC,GAAG,CAACC,eAAJ,CAAoBJ,SAApB,CAApB;;AACA,YAAIK,MAAM,CAACC,OAAP,CAAe,8CAAf,CAAJ,EAAoE;AAClE,UAAA,KAAI,CAACC,iBAAL,CAAuBP,SAAvB,EAAkCQ,MAAM,KAAK,MAA7C;AACD;AACF,OAPD;AAQD,KAhFM;AAiFPC,IAAAA,eAjFO,6BAiFY;AACjB,UAAI,CAAC,KAAK1D,WAAV,EAAuB;AACrB,aAAK2D,mBAAL;AACD,OAFD,MAEO;AACL,aAAKC,kBAAL;AACD;AACF,KAvFM;AAwFPD,IAAAA,mBAxFO,iCAwFgB;AAAA;;AACrB,WAAKxD,aAAL,CAAmB0D,KAAnB,CAAyB,IAAzB;AACA,WAAK7D,WAAL,GAAmB,IAAnB;AACA,WAAKI,iBAAL,GAAyB0D,WAAW,CAAC,YAAM;AACzC,QAAA,MAAI,CAACzD,aAAL;;AACA,YAAI,MAAI,CAACA,aAAL,GAAqB,EAAzB,EAA6B;AAC3B,UAAA,MAAI,CAACuD,kBAAL;AACD;AACF,OALmC,EAKjC,IALiC,CAApC;AAMD,KAjGM;AAkGPA,IAAAA,kBAlGO,gCAkGe;AACpB,WAAKzD,aAAL,CAAmB4D,IAAnB;AACA,WAAK/D,WAAL,GAAmB,KAAnB;AACAgE,MAAAA,aAAa,CAAC,KAAK5D,iBAAN,CAAb;AACA,WAAKC,aAAL,GAAqB,CAArB;AACD,KAvGM;AAwGPmD,IAAAA,iBAxGO,6BAwGYhE,IAxGZ,EAwGkByE,QAxGlB,EAwG4BC,IAxG5B,EAwGkCC,GAxGlC,EAwGuC;AAC5C,UAAIC,QAAQ,GAAI,OAAOD,GAAP,KAAe,WAAhB,GAA+B,CAACA,GAAD,EAAM3E,IAAN,CAA/B,GAA6C,CAACA,IAAD,CAA5D;AACA,UAAI6E,IAAI,GAAG,IAAInB,IAAJ,CAASkB,QAAT,EAAmB;AAACE,QAAAA,IAAI,EAAEJ,IAAI,IAAI;AAAf,OAAnB,CAAX;;AACA,UAAI,OAAOZ,MAAM,CAACiB,SAAP,CAAiBC,UAAxB,KAAuC,WAA3C,EAAwD;AACtD;AACA;AACA;AACA;AACAlB,QAAAA,MAAM,CAACiB,SAAP,CAAiBC,UAAjB,CAA4BH,IAA5B,EAAkCJ,QAAlC;AACD,OAND,MAOK;AACH,YAAIQ,OAAO,GAAInB,MAAM,CAACF,GAAP,IAAcE,MAAM,CAACF,GAAP,CAAWC,eAA1B,GAA6CC,MAAM,CAACF,GAAP,CAAWC,eAAX,CAA2BgB,IAA3B,CAA7C,GAAgFf,MAAM,CAACoB,SAAP,CAAiBrB,eAAjB,CAAiCgB,IAAjC,CAA9F;AACA,YAAIM,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAf;AACAF,QAAAA,QAAQ,CAAChD,KAAT,CAAemD,OAAf,GAAyB,MAAzB;AACAH,QAAAA,QAAQ,CAACI,IAAT,GAAgBN,OAAhB;AACAE,QAAAA,QAAQ,CAACK,YAAT,CAAsB,UAAtB,EAAkCf,QAAlC,EALG,CAOH;AACA;AACA;AACA;;AACA,YAAI,OAAOU,QAAQ,CAACM,QAAhB,KAA6B,WAAjC,EAA8C;AAC5CN,UAAAA,QAAQ,CAACK,YAAT,CAAsB,QAAtB,EAAgC,QAAhC;AACD;;AAEDJ,QAAAA,QAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,QAA1B;AACAA,QAAAA,QAAQ,CAACS,KAAT,GAhBG,CAkBH;;AACAC,QAAAA,UAAU,CAAC,YAAW;AACpBT,UAAAA,QAAQ,CAACM,IAAT,CAAcI,WAAd,CAA0BX,QAA1B;AACArB,UAAAA,MAAM,CAACF,GAAP,CAAWmC,eAAX,CAA2Bd,OAA3B;AACD,SAHS,EAGP,GAHO,CAAV;AAID;AACF;AA1IM,GA1E4B;AAsNrCe,EAAAA,KAAK,EAAE;AACL1E,IAAAA,WADK,yBACS;AACZ,WAAKN,cAAL;AACD;AAHI,GAtN8B;AA2NrCiF,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,sBACIvD,KADJ,EACW;AAChB,UAAIwD,GAAG,GAAG,CAAC,EAAExD,KAAK,GAAG,IAAV,CAAX;AACA,UAAIyD,IAAI,GAAG,CAAC,EAAGzD,KAAK,GAAG,IAAT,GAAiB,EAAnB,CAAZ;AACA,UAAI0D,IAAI,GAAG,CAAC,CAAC1D,KAAF,GAAU,EAArB;AAEA,UAAI2D,GAAG,GAAG,EAAV;;AACA,UAAIH,GAAG,GAAG,CAAV,EAAa;AACXG,QAAAA,GAAG,IAAI,KAAKH,GAAL,GAAW,GAAX,IAAkBC,IAAI,GAAG,EAAP,GAAY,GAAZ,GAAkB,EAApC,CAAP;AACD;;AACDE,MAAAA,GAAG,IAAI,KAAKF,IAAL,GAAY,GAAZ,IAAmBC,IAAI,GAAG,EAAP,GAAY,GAAZ,GAAkB,EAArC,CAAP;AACAC,MAAAA,GAAG,IAAI,KAAKD,IAAZ;AACA,aAAOC,GAAP;AACD;AAbM;AA3N4B,CAAvC;AA4OA1G,GAAG,CAACC,SAAJ,CAAc,cAAd,EAA8B;AAC5BE,EAAAA,KAAK,EAAE,CAAC,YAAD,EAAe,kBAAf,CADqB;AAE5BD,EAAAA,QAAQ,0iDAFoB;AA2C5BE,EAAAA,IA3C4B,kBA2CrB;AACL,WAAO;AACLuG,MAAAA,SAAS,EAAE,KADN;AAELtF,MAAAA,SAAS,EAAE,UAFN;AAEkB;AACvBuF,MAAAA,MAAM,EAAE,IAHH;AAILtG,MAAAA,KAAK,EAAE,IAJF;AAKLuG,MAAAA,OAAO,EAAE,IALJ;AAMLvD,MAAAA,QAAQ,EAAE,IANL;AAOLwD,MAAAA,SAAS,EAAE,CAPN;AAQLC,MAAAA,SAAS,EAAE,CARN;AASLC,MAAAA,QAAQ,EAAE,CATL;AAULC,MAAAA,QAAQ,EAAE,CAVL;AAWLC,MAAAA,IAAI,EAAE,CAXD;AAYLxF,MAAAA,WAAW,EAAE,CAZR;AAaLC,MAAAA,QAAQ,EAAE;AAbL,KAAP;AAeD,GA3D2B;AA4D5BwF,EAAAA,QAAQ,EAAE;AACRC,IAAAA,YADQ,0BACO;AACb,aAAO,KAAK/F,SAAL,KAAmB,UAAnB,GACH,KAAKgG,gBADF,GAEH,KAAKC,UAFT;AAGD,KALO;AAMRC,IAAAA,cANQ,4BAMS;AACf,aAAO,KAAKlG,SAAL,KAAmB,UAA1B;AACD;AARO,GA5DkB;AAsE5BF,EAAAA,OAtE4B,qBAsElB;AACR,SAAKwF,SAAL,GAAiB,IAAjB;AACA,SAAKrG,KAAL,GAAa,KAAK2B,KAAL,CAAW3B,KAAxB;;AACA,QAAI,KAAKe,SAAL,KAAmB,UAAvB,EAAmC;AACjC,WAAKmG,qBAAL;AACD;AACF,GA5E2B;AA6E5B/F,EAAAA,OAAO,EAAE;AACP+F,IAAAA,qBADO,mCACiB;AAAA;;AACtB,WAAKC,UAAL;AACAvD,MAAAA,MAAM,CAACR,gBAAP,CAAwB,QAAxB,EAAkC,KAAKgE,YAAvC;AACA,WAAKd,MAAL,GAAc,IAAIe,MAAM,CAACC,MAAX,CAAkB,KAAK3F,KAAL,CAAWqB,QAA7B,CAAd;AACA,WAAKsD,MAAL,CAAYiB,SAAZ,GAAwB,KAAxB;AACA,WAAKvE,QAAL,GAAgB,KAAKrB,KAAL,CAAWqB,QAA3B;AACA,WAAKuD,OAAL,GAAe,IAAIc,MAAM,CAACG,KAAX,CAAiB,KAAKxH,KAAtB,EAA6B;AAC1CkC,QAAAA,IAAI,EAAE,CADoC;AAE1CuF,QAAAA,GAAG,EAAE,CAFqC;AAG1CC,QAAAA,aAAa,EAAE,KAH2B;AAI1CC,QAAAA,WAAW,EAAE,KAJ6B;AAK1CC,QAAAA,UAAU,EAAE,KAL8B;AAM1CC,QAAAA,eAAe,EAAE;AANyB,OAA7B,CAAf;AASA,WAAKtB,OAAL,CAAauB,aAAb,CAA2B,KAAK9E,QAAL,CAAc+E,YAAzC;AACA,WAAKzB,MAAL,CAAY0B,GAAZ,CAAgB,KAAKzB,OAArB;AACA,WAAKD,MAAL,CAAY2B,YAAZ,CAAyB,KAAK1B,OAA9B;;AAEA,UAAM2B,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB,QAAA,MAAI,CAAC5B,MAAL,CAAY6B,SAAZ;;AACAd,QAAAA,MAAM,CAACe,IAAP,CAAYC,gBAAZ,CAA6BH,MAA7B;AACD,OAHD;;AAKAb,MAAAA,MAAM,CAACe,IAAP,CAAYC,gBAAZ,CAA6BH,MAA7B;AAEA,WAAK5B,MAAL,CAAYgC,EAAZ,CAAe,eAAf,EAAgC,KAAKC,sBAArC;AACA,WAAKjC,MAAL,CAAYgC,EAAZ,CAAe,aAAf,EAA8B,KAAKE,OAAnC;AACA,WAAKlC,MAAL,CAAYgC,EAAZ,CAAe,YAAf,EAA6B,YAAM;AACjC,QAAA,MAAI,CAAC3G,KAAL,CAAW8G,gBAAX,CAA4BC,SAA5B,CAAsCV,GAAtC,CAA0C,WAA1C;AACD,OAFD;AAIA,WAAKtB,QAAL,GAAgB,KAAKH,OAAL,CAAarE,IAA7B;AACA,WAAKyE,QAAL,GAAgB,KAAKJ,OAAL,CAAakB,GAA7B;AACD,KAnCM;AAoCPc,IAAAA,sBApCO,kCAoCgBhH,KApChB,EAoCuB;AAC5B,UAAIoH,GAAG,GAAGpH,KAAK,CAACiB,MAAhB;AACA,UAAMoG,WAAW,GAAG,KAAK5F,QAAL,CAAcnB,WAAlC;AACA,UAAMgH,YAAY,GAAG,KAAK7F,QAAL,CAAc+E,YAAnC;AACA,UAAIe,cAAc,GAAG,CAArB;AACA,UAAIC,aAAa,GAAG,CAApB;AACAJ,MAAAA,GAAG,CAACK,SAAJ;AACA,WAAKxC,SAAL,GAAiBoC,WAAW,GAAGD,GAAG,CAACM,cAAJ,EAA/B;AACA,WAAKxC,SAAL,GAAiBoC,YAAY,GAAGF,GAAG,CAACO,eAAJ,EAAhC;AACA,UAAMC,WAAW,GAAGR,GAAG,CAACS,eAAJ,EAApB;AACAN,MAAAA,cAAc,GAAI,CAAE,KAAKxC,MAAL,CAAY+C,QAAZ,KAAyB,KAAKzC,IAA/B,GAAuC,KAAKN,MAAL,CAAY+C,QAAZ,EAAxC,IAAkE,CAApF;AACAN,MAAAA,aAAa,GAAI,CAAE,KAAKzC,MAAL,CAAYgD,SAAZ,KAA0B,KAAK1C,IAAhC,GAAuC,KAAKN,MAAL,CAAYgD,SAAZ,EAAxC,IAAmE,CAApF;AACA,WAAK9C,SAAL,GAAiB,KAAKA,SAAL,GAAkBsC,cAAc,GAAG,CAApD;AACA,WAAKrC,SAAL,GAAiB,KAAKA,SAAL,GAAkBsC,aAAa,GAAG,CAAnD;;AAEA,UAAIJ,GAAG,CAACzG,IAAJ,GAAW4G,cAAf,EAA+B;AAC7BH,QAAAA,GAAG,CAACzG,IAAJ,GAAW4G,cAAX;AACD,OAFD,MAEO,IAAIH,GAAG,CAACzG,IAAJ,GAAW,KAAKsE,SAApB,EAA+B;AACpCmC,QAAAA,GAAG,CAACzG,IAAJ,GAAW,KAAKsE,SAAhB;AACD;;AAED,UAAImC,GAAG,CAAClB,GAAJ,GAAUsB,aAAd,EAA6B;AAC3BJ,QAAAA,GAAG,CAAClB,GAAJ,GAAUsB,aAAV;AACD,OAFD,MAEO,IAAIJ,GAAG,CAAClB,GAAJ,GAAU,KAAKhB,SAAnB,EAA8B;AACnCkC,QAAAA,GAAG,CAAClB,GAAJ,GAAU,KAAKhB,SAAf;AACD;AACF,KA9DM;AA+DP8C,IAAAA,eA/DO,6BA+DW;AAAA;;AAChB,WAAKxI,SAAL,GAAiB,KAAKA,SAAL,KAAmB,UAAnB,GAAgC,IAAhC,GAAuC,UAAxD;;AACA,UAAI,KAAKA,SAAL,KAAmB,UAAvB,EAAmC;AACjC,aAAKyI,SAAL,CAAe,YAAM;AACnB,UAAA,MAAI,CAACtC,qBAAL;AACD,SAFD;AAGD;AACF,KAtEM;AAuEPC,IAAAA,UAvEO,wBAuEM;AACX,WAAKxF,KAAL,CAAWqB,QAAX,CAAoBtB,KAApB,GAA4B,KAAKC,KAAL,CAAW8H,eAAX,CAA2B5H,WAAvD;AACA,WAAKF,KAAL,CAAWqB,QAAX,CAAoB0G,MAApB,GAA6B,KAAK/H,KAAL,CAAW8H,eAAX,CAA2B1B,YAAxD;AACD,KA1EM;AA2EPX,IAAAA,YA3EO,0BA2EQ;AACb,WAAKd,MAAL,CAAYqD,QAAZ,CAAqB,KAAKhI,KAAL,CAAW8H,eAAX,CAA2B5H,WAAhD;AACA,WAAKyE,MAAL,CAAYsD,SAAZ,CAAsB,KAAKjI,KAAL,CAAW8H,eAAX,CAA2B1B,YAAjD;AACA,WAAKxB,OAAL,CAAauB,aAAb,CAA2B,KAAK9E,QAAL,CAAc+E,YAAzC;AACA,WAAKzB,MAAL,CAAYuD,UAAZ;AACA,WAAKvD,MAAL,CAAY2B,YAAZ,CAAyB,KAAK1B,OAA9B;AACD,KAjFM;AAkFPjF,IAAAA,UAlFO,sBAkFIC,KAlFJ,EAkFW;AAChB,WAAKH,WAAL,GAAmBG,KAAK,CAACiB,MAAN,CAAapB,WAAhC;AACD,KApFM;AAqFP0I,IAAAA,cArFO,0BAqFQvI,KArFR,EAqFe;AACpB,WAAK8E,SAAL,GAAiB,KAAjB;AACA,WAAKhF,QAAL,GAAgBE,KAAK,CAACiB,MAAN,CAAanB,QAA7B;AACD,KAxFM;AAyFPmH,IAAAA,OAzFO,yBAyFe;AAAA,UAATjH,KAAS,QAAZ8B,CAAY;AACpB,WAAKuD,IAAL,IAAarF,KAAK,CAACwI,MAAN,GAAe,CAAC,IAA7B;AACA,WAAKnD,IAAL,GAAYoD,MAAM,CAACC,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAAS,CAAT,EAAY,KAAKvD,IAAjB,CAAT,EAAiC,CAAjC,EAAoCwD,OAApC,CAA4C,CAA5C,CAAD,CAAlB;AACA,UAAMC,YAAY,GAAG,KAAK/D,MAAL,CAAYgE,SAAZ,EAArB;AACA,WAAKhE,MAAL,CAAYiE,WAAZ,CAAwB;AAAE/I,QAAAA,CAAC,EAAE6I,YAAY,CAACnI,IAAlB;AAAwBsI,QAAAA,CAAC,EAAEH,YAAY,CAAC5C;AAAxC,OAAxB,EAAuE,KAAKb,IAA5E;AACA,WAAKL,OAAL,CAAayC,SAAb;AACAzH,MAAAA,KAAK,CAACkJ,cAAN;AACAlJ,MAAAA,KAAK,CAACmJ,eAAN;AACA,WAAKpE,MAAL,CAAYqE,IAAZ,CAAiB,eAAjB,EAAkC;AAAEnI,QAAAA,MAAM,EAAE,KAAK+D;AAAf,OAAlC;AACD;AAlGM,GA7EmB;AAiL5BT,EAAAA,KAAK,EAAE;AACLgB,IAAAA,YADK,0BACU;AAAA;;AACb,WAAKT,SAAL,GAAiB,IAAjB;AACA,WAAKmD,SAAL,CAAe,YAAM;AACnB,QAAA,MAAI,CAACxJ,KAAL,CAAWoB,WAAX,GAAyB,MAAI,CAACA,WAA9B;;AACA,QAAA,MAAI,CAACwJ,YAAL;AACD,OAHD;AAID;AAPI;AAjLqB,CAA9B;AA4LA,IAAIlL,GAAJ,CAAQ;AACNmL,EAAAA,EAAE,EAAE;AADE,CAAR","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["import \"./styles.css\";\n\nVue.component(\"video-player-loader\", {\n  template: `\n    <div class=\"c-video-player-loader\">\n      <div class=\"preloader-wrapper big active\">\n        <div class=\"spinner-layer spinner-blue-only\">\n          <div class=\"circle-clipper left\">\n            <div class=\"circle\"></div>\n          </div><div class=\"gap-patch\">\n            <div class=\"circle\"></div>\n          </div><div class=\"circle-clipper right\">\n            <div class=\"circle\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n});\n\nVue.component(\"video-player-controls\", {\n  props: [\"video\", \"currentTime\", \"duration\", \"videoMode\", \"panorama\"],\n  template: `\n    <div class=\"c-video-player-controls\">\n      <div ref=\"progressBar\" class=\"c-video-player-controls__progress-bar\" @click=\"updateTime\" @mousemove=\"updateHoveredTime\">\n        <div class=\"c-video-player-controls__progress\" :style=\"{ flexBasis: progress + '%', maxWidth: progress + '%' }\"></div>\n        <span ref=\"progressTime\" class=\"c-video-player-controls__progress-time\">{{ hoveredTime | prettyTime }}</span>\n      </div>\n      <div class=\"c-video-player-controls__wrapper\">\n        <button @click=\"togglePlayPause\" class=\"c-video-player-controls__play-pause\">\n          <i v-if=\"!isPlaying\" class=\"material-icons\">play_arrow</i>\n          <i v-if=\"isPlaying\" class=\"material-icons\">pause</i>\n        </button>\n        <button class=\"c-video-player-controls__volume\" @click=\"toggleVolume\">\n          <i v-if=\"volume === 1\" class=\"material-icons\">volume_up</i>\n          <i v-if=\"volume === 0\" class=\"material-icons\">volume_off</i>\n          {{ volume }}\n        </button>\n        <div class=\"c-video-player-controls__time\">\n          {{ currentTime | prettyTime }} / {{ duration | prettyTime }}\n        </div>\n        <button class=\"c-video-player-controls__mode btn btn-small btn-flat\" @click=\"$emit('change-video-mode')\">\n          {{ videoMode === 'panorama' ? 'Standard' : 'Panorama' }} View\n        </button>\n        <button v-if=\"videoMode === 'panorama' && browserCanRecord\" class=\"c-video-player-controls__record\" :class=\"{ 'c-video-player-controls__record--recording': isRecording }\" @click=\"toggleRecording\">\n          Rec\n          <i class=\"material-icons\">fiber_manual_record</i>\n          ({{ recordingTime }})\n        </button>\n        <select class=\"c-video-player-controls__playback\" v-model=\"playbackRate\" @change=\"updatePlayback\">\n          <option :value=\"0.5\">0.5x</option>\n          <option :value=\"1.0\">1x</option>\n          <option :value=\"1.5\">1.5x</option>\n          <option :value=\"2.0\">2x</option>\n        </select>\n        <div class=\"c-video-player-controls__seeks\">\n          <button class=\"c-video-player-controls__seek\" @click=\"seekVideo(-10)\">\n            <i class=\"material-icons\">replay_10</i>\n          </button>\n          <button class=\"c-video-player-controls__seek\" @click=\"seekVideo(10)\">\n            <i class=\"material-icons\">forward_10</i>\n          </button>\n        </div>\n        <button @click=\"toggleFullscreen\" class=\"c-video-player-controls__fullscreen\">\n          <i class=\"material-icons\">fullscreen</i>\n        </button>\n      </div>\n    </div>\n  `,\n  data() {\n    return {\n      isPlaying: !this.video.paused,\n      volume: 1,\n      playbackRate: 1.0,\n      progress: 0,\n      hoveredTime: 0,\n      isRecording: false,\n      videoChunks: [],\n      videoStream: null,\n      mediaRecorder: null,\n      recordingInterval: null,\n      recordingTime: 0,\n      browserCanRecord: false\n    };\n  },\n  mounted () {\n    this.updateProgress();\n    if (this.videoMode === 'panorama') {\n      if (MediaRecorder.isTypeSupported('video/webm')) {\n        this.browserCanRecord = true;\n        this.initializeVideoStream();\n      }\n    }\n  },\n  methods: {\n    updateProgress () {\n      this.progress = (this.currentTime / this.duration) * 100;\n    },\n    updateTime(event) {\n      const x = event.offsetX;\n      const width = this.$refs.progressBar.clientWidth;\n      const percentHovered = x / width;\n      this.video.currentTime = this.duration * percentHovered;\n    },\n    updateHoveredTime(event) {\n      const x = event.offsetX;\n      const width = this.$refs.progressBar.clientWidth;\n      const percentHovered = x / width;\n      this.hoveredTime = this.duration * percentHovered;\n      this.$refs.progressTime.style.left =\n        \"calc(\" +\n        percentHovered * 100 +\n        \"% - \" +\n        this.$refs.progressTime.clientWidth / 2 +\n        \"px)\";\n    },\n    togglePlayPause() {\n      if (this.video.paused) {\n        this.video.play();\n        this.isPlaying = true;\n      } else {\n        this.video.pause();\n        this.isPlaying = false;\n      }\n    },\n    seekVideo(duration) {\n      this.video.currentTime += duration;\n    },\n    updatePlayback(event) {\n      this.video.playbackRate = event.target.value;\n    },\n    toggleVolume() {\n      this.volume = this.volume === 1 ? 0 : 1;\n      if (this.volume === 0) {\n        this.video.muted = true;\n        this.video.volume = 0;\n      } else {\n        this.video.muted = false;\n        this.video.volume = 1;\n      }\n    },\n    toggleFullscreen() {\n      if (this.video.requestFullscreen) {\n        this.video.requestFullscreen();\n      } else if (this.video.webkitRequestFullscreen) {\n        this.video.webkitRequestFullscreen();\n      } else if (this.video.msRequestFullscreen) {\n        this.video.msRequestFullscreen();\n      }\n    },\n    initializeVideoStream () {\n      this.videoStream = this.panorama.captureStream();\n      let streamOptions;\n      if (MediaRecorder.isTypeSupported('video/webm;codecs=vp9')) {\n        streamOptions = { mimeType: 'video/webm; codecs=vp9' };\n      } else if (MediaRecorder.isTypeSupported('video/webm;codecs=vp8')) {\n        streamOptions = { mimeType: 'video/webm; codecs=vp8' };\n      } else {\n        streamOptions = { mimeType: 'video/webm' };\n      }\n      this.mediaRecorder = new MediaRecorder(this.videoStream, streamOptions);\n\n      this.mediaRecorder.addEventListener('dataavailable', (e) => {\n        this.videoChunks.push(e.data);\n      });\n\n      this.mediaRecorder.addEventListener('stop', (e) => {\n        const videoBlob = new Blob(this.videoChunks, { 'type': 'video/mp4' });\n        this.videoChunks = [];\n        this.clippedVideo = URL.createObjectURL(videoBlob);\n        if (window.confirm('Are you sure you want to download this clip?')) {\n          this.downloadVideoFile(videoBlob, uuidv4() + '.mp4');\n        }\n      });\n    },\n    toggleRecording () {\n      if (!this.isRecording) {\n        this.startVideoRecording();\n      } else {\n        this.stopVideoRecording();\n      }\n    },\n    startVideoRecording () {\n      this.mediaRecorder.start(1000);\n      this.isRecording = true;\n      this.recordingInterval = setInterval(() => {\n        this.recordingTime++;\n        if (this.recordingTime > 60) {\n          this.stopVideoRecording();\n        }\n      }, 1000);\n    },\n    stopVideoRecording () {\n      this.mediaRecorder.stop();\n      this.isRecording = false;\n      clearInterval(this.recordingInterval);\n      this.recordingTime = 0;\n    },\n    downloadVideoFile (data, filename, mime, bom) {\n      var blobData = (typeof bom !== 'undefined') ? [bom, data] : [data]\n      var blob = new Blob(blobData, {type: mime || 'application/octet-stream'});\n      if (typeof window.navigator.msSaveBlob !== 'undefined') {\n        // IE workaround for \"HTML7007: One or more blob URLs were\n        // revoked by closing the blob for which they were created.\n        // These URLs will no longer resolve as the data backing\n        // the URL has been freed.\"\n        window.navigator.msSaveBlob(blob, filename);\n      }\n      else {\n        var blobURL = (window.URL && window.URL.createObjectURL) ? window.URL.createObjectURL(blob) : window.webkitURL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.style.display = 'none';\n        tempLink.href = blobURL;\n        tempLink.setAttribute('download', filename);\n\n        // Safari thinks _blank anchor are pop ups. We only want to set _blank\n        // target if the browser does not support the HTML5 download attribute.\n        // This allows you to download files in desktop safari if pop up blocking\n        // is enabled.\n        if (typeof tempLink.download === 'undefined') {\n          tempLink.setAttribute('target', '_blank');\n        }\n\n        document.body.appendChild(tempLink);\n        tempLink.click();\n\n        // Fixes \"webkit blob resource error 1\"\n        setTimeout(function() {\n          document.body.removeChild(tempLink);\n          window.URL.revokeObjectURL(blobURL);\n        }, 200);\n      }\n    }\n  },\n  watch: {\n    currentTime() {\n      this.updateProgress();\n    }\n  },\n  filters: {\n    prettyTime(value) {\n      let hrs = ~~(value / 3600);\n      let mins = ~~((value % 3600) / 60);\n      let secs = ~~value % 60;\n\n      let ret = \"\";\n      if (hrs > 0) {\n        ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\n      }\n      ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\n      ret += \"\" + secs;\n      return ret;\n    }\n  }\n});\n\nVue.component(\"video-player\", {\n  props: [\"hdVideoUrl\", \"panoramaVideoUrl\"],\n  template: `\n    <div class=\"c-video-player\">\n      <div v-if=\"isPanoramaMode\" ref=\"panoramaWrapper\" class=\"c-video-player__video\">\n        <div class=\"c-video-player__help-text\" ref=\"panoramaHelpText\">Click &amp; Drag To Navigate Panorama</div>\n        <canvas ref=\"panorama\" class=\"c-video-player__canvas\"></canvas>\n        <video-player-controls\n          v-if=\"video\"\n          :video=\"video\"\n          :current-time=\"currentTime\"\n          :duration=\"duration\"\n          :video-mode=\"videoMode\"\n          :panorama=\"panorama\"\n          @change-video-mode=\"toggleVideoMode\">\n        </video-player-controls>\n        <video-player-loader v-if=\"isLoading\"></video-player-loader>\n      </div>\n      <div class=\"c-video-player__video\" :class=\"{ 'c-video-player__video--panorama': isPanoramaMode }\">\n        <video\n          ref=\"video\"\n          class=\"c-video-player__player\"\n          :src=\"currentVideo\"\n          width=\"3840\"\n          height=\"900\"\n          playsinline\n          crossorigin=\"anonymous\"\n          @timeupdate=\"updateTime\"\n          @loadedmetadata=\"updateDuration\"\n        >\n          <source :src=\"currentVideo\" type=\"video/mp4\">\n        </video>\n        <video-player-controls\n          v-if=\"video && !isPanoramaMode\"\n          :video=\"video\"\n          :current-time=\"currentTime\"\n          :duration=\"duration\"\n          :video-mode=\"videoMode\"\n          @change-video-mode=\"toggleVideoMode\">\n        </video-player-controls>\n      </div>\n    </div>\n  `,\n  data() {\n    return {\n      isLoading: false,\n      videoMode: \"panorama\", // 'hd' or 'panorama'\n      canvas: null,\n      video: null,\n      videoEl: null,\n      panorama: null,\n      xBoundary: 0,\n      yBoundary: 0,\n      currentX: 0,\n      currentY: 0,\n      zoom: 1,\n      currentTime: 0,\n      duration: 0\n    };\n  },\n  computed: {\n    currentVideo() {\n      return this.videoMode === \"panorama\"\n        ? this.panoramaVideoUrl\n        : this.hdVideoUrl;\n    },\n    isPanoramaMode() {\n      return this.videoMode === \"panorama\";\n    }\n  },\n  mounted() {\n    this.isLoading = true;\n    this.video = this.$refs.video;\n    if (this.videoMode === 'panorama') {\n      this.initializeVideoCanvas();\n    }\n  },\n  methods: {\n    initializeVideoCanvas() {\n      this.sizeCanvas();\n      window.addEventListener(\"resize\", this.resizeCanvas);\n      this.canvas = new fabric.Canvas(this.$refs.panorama);\n      this.canvas.selection = false;\n      this.panorama = this.$refs.panorama;\n      this.videoEl = new fabric.Image(this.video, {\n        left: 0,\n        top: 0,\n        objectCaching: false,\n        hasControls: false,\n        hasBorders: false,\n        centeredScaling: true\n      });\n\n      this.videoEl.scaleToHeight(this.panorama.clientHeight);\n      this.canvas.add(this.videoEl);\n      this.canvas.centerObject(this.videoEl);\n\n      const render = () => {\n        this.canvas.renderAll();\n        fabric.util.requestAnimFrame(render);\n      };\n\n      fabric.util.requestAnimFrame(render);\n\n      this.canvas.on(\"object:moving\", this.handleCanvasBoundaries);\n      this.canvas.on(\"mouse:wheel\", this.setZoom);\n      this.canvas.on(\"mouse:down\", () => {\n        this.$refs.panoramaHelpText.classList.add(\"is-hidden\");\n      });\n\n      this.currentX = this.videoEl.left;\n      this.currentY = this.videoEl.top;\n    },\n    handleCanvasBoundaries(event) {\n      let obj = event.target;\n      const canvasWidth = this.panorama.clientWidth;\n      const canvasHeight = this.panorama.clientHeight;\n      let canvasEdgeLeft = 0;\n      let canvasEdgeTop = 0;\n      obj.setCoords();\n      this.xBoundary = canvasWidth - obj.getScaledWidth();\n      this.yBoundary = canvasHeight - obj.getScaledHeight();\n      const scaledVideo = obj.getBoundingRect();\n      canvasEdgeLeft = (((this.canvas.getWidth() * this.zoom) - this.canvas.getWidth()) / 4);\n      canvasEdgeTop = (((this.canvas.getHeight() * this.zoom) -this.canvas.getHeight()) / 4);\n      this.xBoundary = this.xBoundary - (canvasEdgeLeft / 2);\n      this.yBoundary = this.yBoundary - (canvasEdgeTop / 2);\n\n      if (obj.left > canvasEdgeLeft) {\n        obj.left = canvasEdgeLeft;\n      } else if (obj.left < this.xBoundary) {\n        obj.left = this.xBoundary;\n      }\n\n      if (obj.top > canvasEdgeTop) {\n        obj.top = canvasEdgeTop;\n      } else if (obj.top < this.yBoundary) {\n        obj.top = this.yBoundary;\n      }\n    },\n    toggleVideoMode() {\n      this.videoMode = this.videoMode === \"panorama\" ? \"hd\" : \"panorama\";\n      if (this.videoMode === \"panorama\") {\n        this.$nextTick(() => {\n          this.initializeVideoCanvas();\n        });\n      }\n    },\n    sizeCanvas() {\n      this.$refs.panorama.width = this.$refs.panoramaWrapper.clientWidth;\n      this.$refs.panorama.height = this.$refs.panoramaWrapper.clientHeight;\n    },\n    resizeCanvas() {\n      this.canvas.setWidth(this.$refs.panoramaWrapper.clientWidth);\n      this.canvas.setHeight(this.$refs.panoramaWrapper.clientHeight);\n      this.videoEl.scaleToHeight(this.panorama.clientHeight);\n      this.canvas.calcOffset();\n      this.canvas.centerObject(this.videoEl);\n    },\n    updateTime(event) {\n      this.currentTime = event.target.currentTime;\n    },\n    updateDuration(event) {\n      this.isLoading = false;\n      this.duration = event.target.duration;\n    },\n    setZoom({ e: event }) {\n      this.zoom += event.deltaY * -0.01;\n      this.zoom = Number(Math.min(Math.max(1, this.zoom), 4).toFixed(2));\n      const canvasCenter = this.canvas.getCenter();\n      this.canvas.zoomToPoint({ x: canvasCenter.left, y: canvasCenter.top }, this.zoom);\n      this.videoEl.setCoords();\n      event.preventDefault();\n      event.stopPropagation();\n      this.canvas.fire('object:moving', { target: this.videoEl });\n    }\n  },\n  watch: {\n    currentVideo() {\n      this.isLoading = true;\n      this.$nextTick(() => {\n        this.video.currentTime = this.currentTime;\n        this.$forceUpdate();\n      });\n    }\n  }\n});\n\nnew Vue({\n  el: \"#app\"\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}