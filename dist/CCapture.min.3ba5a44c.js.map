{"version":3,"sources":["CCapture.min.js"],"names":["t","Object","e","String","slice","i","Math","floor","random","toString","substring","n","settings","on","emit","apply","Array","prototype","call","arguments","filename","name","extension","mimeType","o","fileExtension","baseFilename","tape","count","part","frames","r","type","a","quality","s","document","createElement","toDataURL","substr","console","log","framerate","videoWriter","WebMWriter","fileWriter","fd","frameRate","c","encoder","FFMpegServer","Video","bind","callback","onProgress","alert","JSON","stringify","p","stream","mediaRecorder","chunks","h","workers","canvas","ctx","getContext","sizeSet","GIF","workerScript","workersPath","m","_hooked","_hookedTime","currentTime","pause","it","push","B","startTime","b","j","window","Date","now","C","I","performance","q","getTime","setTimeout","time","triggerTime","E","clearTimeout","length","splice","setInterval","L","clearInterval","requestAnimationFrame","P","defineProperty","HTMLVideoElement","get","HTMLAudioElement","O","start","M","stop","d","K","g","Q","X","Y","Z","et","$","tt","u","R","frameLimit","timeLimit","v","setSeconds","motionBlurFrames","z","textContent","format","A","toISOString","l","H","width","height","U","Uint16Array","V","fillStyle","fillRect","f","drawImage","_","getImageData","data","w","putImageData","add","gc","y","forEach","T","download","save","S","F","W","x","k","D","verbose","display","step","style","position","left","top","backgroundColor","fontFamily","fontSize","padding","color","zIndex","body","appendChild","G","gif","webm","ffmpegserver","png","jpg","J","keys","join","N","timing","navigationStart","capture","function","object","parseFloat","parseInt","exports","nodeType","module","global","self","Function","HTMLCanvasElement","toBlob","value","atob","split","Uint8Array","charCodeAt","Blob","dispose","safeToProceed","create","FileReader","onload","append","result","autoSaveTime","readAsArrayBuffer","Tar","addFrame","complete","then","end","captureStream","MediaRecorder","ondataavailable","onstop","setOption","copy","delay","render","CCapture","define","amd"],"mappings":"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","file":"CCapture.min.3ba5a44c.js","sourceRoot":"..","sourcesContent":["!function(){\"use strict\";function t(t){return t&&t.Object===Object?t:null}function e(t){return String(\"0000000\"+t).slice(-7)}function i(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+\"-\"+t()+\"-\"+t()+\"-\"+t()+\"-\"+t()+t()+t()}function n(t){var e={};this.settings=t,this.on=function(t,i){e[t]=i},this.emit=function(t){var i=e[t];i&&i.apply(null,Array.prototype.slice.call(arguments,1))},this.filename=t.name||i(),this.extension=\"\",this.mimeType=\"\"}function o(t){n.call(this,t),this.extension=\".tar\",this.mimeType=\"application/x-tar\",this.fileExtension=\"\",this.baseFilename=this.filename,this.tape=null,this.count=0,this.part=1,this.frames=0}function r(t){o.call(this,t),this.type=\"image/png\",this.fileExtension=\".png\"}function a(t){o.call(this,t),this.type=\"image/jpeg\",this.fileExtension=\".jpg\",this.quality=t.quality/100||.8}function s(t){var e=document.createElement(\"canvas\");\"image/webp\"!==e.toDataURL(\"image/webp\").substr(5,10)&&console.log(\"WebP not supported - try another export format\"),n.call(this,t),this.quality=t.quality/100||.8,this.extension=\".webm\",this.mimeType=\"video/webm\",this.baseFilename=this.filename,this.framerate=t.framerate,this.frames=0,this.part=1,this.videoWriter=new WebMWriter({quality:this.quality,fileWriter:null,fd:null,frameRate:this.framerate})}function c(t){n.call(this,t),t.quality=t.quality/100||.8,this.encoder=new FFMpegServer.Video(t),this.encoder.on(\"process\",function(){this.emit(\"process\")}.bind(this)),this.encoder.on(\"finished\",function(t,e){var i=this.callback;i&&(this.callback=void 0,i(t,e))}.bind(this)),this.encoder.on(\"progress\",function(t){this.settings.onProgress&&this.settings.onProgress(t)}.bind(this)),this.encoder.on(\"error\",function(t){alert(JSON.stringify(t,null,2))}.bind(this))}function p(t){n.call(this,t),this.framerate=this.settings.framerate,this.type=\"video/webm\",this.extension=\".webm\",this.stream=null,this.mediaRecorder=null,this.chunks=[]}function h(t){n.call(this,t),t.quality=31-(30*t.quality/100||10),t.workers=t.workers||4,this.extension=\".gif\",this.mimeType=\"image/gif\",this.canvas=document.createElement(\"canvas\"),this.ctx=this.canvas.getContext(\"2d\"),this.sizeSet=!1,this.encoder=new GIF({workers:t.workers,quality:t.quality,workerScript:t.workersPath+\"gif.worker.js\"}),this.encoder.on(\"progress\",function(t){this.settings.onProgress&&this.settings.onProgress(t)}.bind(this)),this.encoder.on(\"finished\",function(t){var e=this.callback;e&&(this.callback=void 0,e(t))}.bind(this))}function m(t){function e(){function t(){return this._hooked||(this._hooked=!0,this._hookedTime=this.currentTime||0,this.pause(),it.push(this)),this._hookedTime+B.startTime}b(\"Capturer start\"),j=window.Date.now(),C=j+B.startTime,I=window.performance.now(),q=I+B.startTime,window.Date.prototype.getTime=function(){return C},window.Date.now=function(){return C},window.setTimeout=function(t,e){var i={callback:t,time:e,triggerTime:C+e};return E.push(i),b(\"Timeout set to \"+i.time),i},window.clearTimeout=function(t){for(var e=0;e<E.length;e++)E[e]!=t||(E.splice(e,1),b(\"Timeout cleared\"))},window.setInterval=function(t,e){var i={callback:t,time:e,triggerTime:C+e};return L.push(i),b(\"Interval set to \"+i.time),i},window.clearInterval=function(t){return b(\"clear Interval\"),null},window.requestAnimationFrame=function(t){P.push(t)},window.performance.now=function(){return q};try{Object.defineProperty(HTMLVideoElement.prototype,\"currentTime\",{get:t}),Object.defineProperty(HTMLAudioElement.prototype,\"currentTime\",{get:t})}catch(t){b(t)}}function i(){e(),O.start(),M=!0}function n(){M=!1,O.stop(),d()}function o(t,e){K(t,0,e)}function m(){o(g)}function d(){b(\"Capturer stop\"),window.setTimeout=K,window.setInterval=Q,window.clearInterval=X,window.clearTimeout=Y,window.requestAnimationFrame=Z,window.Date.prototype.getTime=et,window.Date.now=$,window.performance.now=tt}function u(){var t=R/B.framerate;(B.frameLimit&&R>=B.frameLimit||B.timeLimit&&t>=B.timeLimit)&&(n(),v());var e=new Date(null);e.setSeconds(t),B.motionBlurFrames>2?z.textContent=\"CCapture \"+B.format+\" | \"+R+\" frames (\"+A+\" inter) | \"+e.toISOString().substr(11,8):z.textContent=\"CCapture \"+B.format+\" | \"+R+\" frames | \"+e.toISOString().substr(11,8)}function l(t){H.width===t.width&&H.height===t.height||(H.width=t.width,H.height=t.height,U=new Uint16Array(H.height*H.width*4),V.fillStyle=\"#0\",V.fillRect(0,0,H.width,H.height))}function f(t){V.drawImage(t,0,0),_=V.getImageData(0,0,H.width,H.height);for(var e=0;e<U.length;e+=4)U[e]+=_.data[e],U[e+1]+=_.data[e+1],U[e+2]+=_.data[e+2];A++}function w(){for(var t=_.data,e=0;e<U.length;e+=4)t[e]=2*U[e]/B.motionBlurFrames,t[e+1]=2*U[e+1]/B.motionBlurFrames,t[e+2]=2*U[e+2]/B.motionBlurFrames;V.putImageData(_,0,0),O.add(H),R++,A=0,b(\"Full MB Frame! \"+R+\" \"+C);for(var e=0;e<U.length;e+=4)U[e]=0,U[e+1]=0,U[e+2]=0;gc()}function y(t){M&&(B.motionBlurFrames>2?(l(t),f(t),A>=.5*B.motionBlurFrames?w():m()):(O.add(t),R++,b(\"Full Frame! \"+R)))}function g(){var t=1e3/B.framerate,e=(R+A/B.motionBlurFrames)*t;C=j+e,q=I+e,it.forEach(function(t){t._hookedTime=e/1e3}),u(),b(\"Frame: \"+R+\" \"+A);for(var i=0;i<E.length;i++)C>=E[i].triggerTime&&(o(E[i].callback),E.splice(i,1));for(var i=0;i<L.length;i++)C>=L[i].triggerTime&&(o(L[i].callback),L[i].triggerTime+=L[i].time);P.forEach(function(t){o(t,C-T)}),P=[]}function v(t){t||(t=function(t){return download(t,O.filename+O.extension,O.mimeType),!1}),O.save(t)}function b(t){S&&console.log(t)}function F(t,e){W[t]=e}function x(t){var e=W[t];e&&e.apply(null,Array.prototype.slice.call(arguments,1))}function k(t){x(\"progress\",t)}var S,D,C,j,q,I,m,O,B=t||{},E=(new Date,[]),L=[],R=0,A=0,P=[],M=!1,W={};B.framerate=B.framerate||60,B.motionBlurFrames=2*(B.motionBlurFrames||1),S=B.verbose||!1,D=B.display||!1,B.step=1e3/B.framerate,B.timeLimit=B.timeLimit||0,B.frameLimit=B.frameLimit||0,B.startTime=B.startTime||0;var z=document.createElement(\"div\");z.style.position=\"absolute\",z.style.left=z.style.top=0,z.style.backgroundColor=\"black\",z.style.fontFamily=\"monospace\",z.style.fontSize=\"11px\",z.style.padding=\"5px\",z.style.color=\"red\",z.style.zIndex=1e5,B.display&&document.body.appendChild(z);var U,_,H=document.createElement(\"canvas\"),V=H.getContext(\"2d\");b(\"Step is set to \"+B.step+\"ms\");var G={gif:h,webm:s,ffmpegserver:c,png:r,jpg:a,\"webm-mediarecorder\":p},J=G[B.format];if(!J)throw\"Error: Incorrect or missing format: Valid formats are \"+Object.keys(G).join(\", \");if(O=new J(B),O.step=m,O.on(\"process\",g),O.on(\"progress\",k),\"performance\"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},\"now\"in window.performance==0){var N=Date.now();performance.timing&&performance.timing.navigationStart&&(N=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-N}}var K=window.setTimeout,Q=window.setInterval,X=window.clearInterval,Y=window.clearTimeout,Z=window.requestAnimationFrame,$=window.Date.now,tt=window.performance.now,et=window.Date.prototype.getTime,it=[];return{start:i,capture:y,stop:n,save:v,on:F}}var d={function:!0,object:!0},u=(parseFloat,parseInt,d[typeof exports]&&exports&&!exports.nodeType?exports:void 0),l=d[typeof module]&&module&&!module.nodeType?module:void 0,f=l&&l.exports===u?u:void 0,w=t(u&&l&&\"object\"==typeof global&&global),y=t(d[typeof self]&&self),g=t(d[typeof window]&&window),v=t(d[typeof this]&&this),b=w||g!==(v&&v.window)&&g||y||v||Function(\"return this\")();\"gc\"in window||(window.gc=function(){}),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,\"toBlob\",{value:function(t,e,i){for(var n=atob(this.toDataURL(e,i).split(\",\")[1]),o=n.length,r=new Uint8Array(o),a=0;a<o;a++)r[a]=n.charCodeAt(a);t(new Blob([r],{type:e||\"image/png\"}))}}),function(){if(\"performance\"in window==0&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},\"now\"in window.performance==0){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}();var T=window.Date.now();n.prototype.start=function(){},n.prototype.stop=function(){},n.prototype.add=function(){},n.prototype.save=function(){},n.prototype.dispose=function(){},n.prototype.safeToProceed=function(){return!0},n.prototype.step=function(){console.log(\"Step not set!\")},o.prototype=Object.create(n.prototype),o.prototype.start=function(){this.dispose()},o.prototype.add=function(t){var i=new FileReader;i.onload=function(){this.tape.append(e(this.count)+this.fileExtension,new Uint8Array(i.result)),this.settings.autoSaveTime>0&&this.frames/this.settings.framerate>=this.settings.autoSaveTime?this.save(function(t){this.filename=this.baseFilename+\"-part-\"+e(this.part),download(t,this.filename+this.extension,this.mimeType);var i=this.count;this.dispose(),this.count=i+1,this.part++,this.filename=this.baseFilename+\"-part-\"+e(this.part),this.frames=0,this.step()}.bind(this)):(this.count++,this.frames++,this.step())}.bind(this),i.readAsArrayBuffer(t)},o.prototype.save=function(t){t(this.tape.save())},o.prototype.dispose=function(){this.tape=new Tar,this.count=0},r.prototype=Object.create(o.prototype),r.prototype.add=function(t){t.toBlob(function(t){o.prototype.add.call(this,t)}.bind(this),this.type)},a.prototype=Object.create(o.prototype),a.prototype.add=function(t){t.toBlob(function(t){o.prototype.add.call(this,t)}.bind(this),this.type,this.quality)},s.prototype=Object.create(n.prototype),s.prototype.start=function(t){this.dispose()},s.prototype.add=function(t){this.videoWriter.addFrame(t),this.settings.autoSaveTime>0&&this.frames/this.settings.framerate>=this.settings.autoSaveTime?this.save(function(t){this.filename=this.baseFilename+\"-part-\"+e(this.part),download(t,this.filename+this.extension,this.mimeType),this.dispose(),this.part++,this.filename=this.baseFilename+\"-part-\"+e(this.part),this.step()}.bind(this)):(this.frames++,this.step())},s.prototype.save=function(t){this.videoWriter.complete().then(t)},s.prototype.dispose=function(t){this.frames=0,this.videoWriter=new WebMWriter({quality:this.quality,fileWriter:null,fd:null,frameRate:this.framerate})},c.prototype=Object.create(n.prototype),c.prototype.start=function(){this.encoder.start(this.settings)},c.prototype.add=function(t){this.encoder.add(t)},c.prototype.save=function(t){this.callback=t,this.encoder.end()},c.prototype.safeToProceed=function(){return this.encoder.safeToProceed()},p.prototype=Object.create(n.prototype),p.prototype.add=function(t){this.stream||(this.stream=t.captureStream(this.framerate),this.mediaRecorder=new MediaRecorder(this.stream),this.mediaRecorder.start(),this.mediaRecorder.ondataavailable=function(t){this.chunks.push(t.data)}.bind(this)),this.step()},p.prototype.save=function(t){this.mediaRecorder.onstop=function(e){var i=new Blob(this.chunks,{type:\"video/webm\"});this.chunks=[],t(i)}.bind(this),this.mediaRecorder.stop()},h.prototype=Object.create(n.prototype),h.prototype.add=function(t){this.sizeSet||(this.encoder.setOption(\"width\",t.width),this.encoder.setOption(\"height\",t.height),this.sizeSet=!0),this.canvas.width=t.width,this.canvas.height=t.height,this.ctx.drawImage(t,0,0),this.encoder.addFrame(this.ctx,{copy:!0,delay:this.settings.step}),this.step()},h.prototype.save=function(t){this.callback=t,this.encoder.render()},(g||y||{}).CCapture=m,\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd?define(function(){return m}):u&&l?(f&&((l.exports=m).CCapture=m),u.CCapture=m):b.CCapture=m}();"]}